<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="964px" preserveAspectRatio="none" style="width:528px;height:964px;" version="1.1" viewBox="0 0 528 964" width="528px" zoomAndPan="magnify"><defs><filter height="300%" id="f8vx703iypvze" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="198.75" y="23.5352">readBit sequence</text><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="828.9004" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="90.5" y="105.7988"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="95.5" y="788.7676"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="95.5" y="863.0781"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="178.4199"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="221.7305"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="308.3516"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="394.9727"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="481.5938"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="265.041"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="438.2832"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="583.5254"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="670.1465"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="163.9316" style="stroke: #000000; stroke-width: 2.0;" width="262" x="13" y="742.457"/><rect fill="#FFFFFF" height="74.3105" style="stroke: none; stroke-width: 1.0;" width="262" x="13" y="832.0781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="95" x2="95" y1="74.4883" y2="952.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="289.5" x2="289.5" y1="74.4883" y2="952.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="441.5" x2="441.5" y1="74.4883" y2="952.6992"/><a target="_top" xlink:actuate="onRequest" xlink:href="../Class/OneWireDriver.svg" xlink:show="new" xlink:title="../Class/OneWireDriver.svg" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f8vx703iypvze)" height="36" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="23" y="33.4883"/><ellipse cx="41" cy="51.4883" fill="#008000" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M36.7139,45.0952 L39.6357,45.0952 L41.1133,50.5322 L42.5825,45.0952 L45.521,45.0952 L45.521,57.4883 L43.4126,57.4883 L43.4126,47.5605 L42.1011,52.981 L40.1504,52.981 L38.8223,47.5605 L38.8223,57.4883 L36.7139,57.4883 Z "/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="58" y="54.4883">OneWireDriver</text></a><a target="_top" xlink:actuate="onRequest" xlink:href="../Class/OneWireDriver.svg" xlink:show="new" xlink:title="../Class/OneWireDriver.svg" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f8vx703iypvze)" height="36" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="217.5" y="33.4883"/><ellipse cx="235.5" cy="51.4883" fill="#008000" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M231.2139,45.0952 L234.1357,45.0952 L235.6133,50.5322 L237.0825,45.0952 L240.021,45.0952 L240.021,57.4883 L237.9126,57.4883 L237.9126,47.5605 L236.6011,52.981 L234.6504,52.981 L233.3223,47.5605 L233.3223,57.4883 L231.2139,57.4883 Z "/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="252.5" y="54.4883">GPIO_Wrapper</text></a><a target="_top" xlink:actuate="onRequest" xlink:href="../Class/OneWireDriver.svg" xlink:show="new" xlink:title="../Class/OneWireDriver.svg" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f8vx703iypvze)" height="36" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="371.5" y="33.4883"/><ellipse cx="389.5" cy="51.4883" fill="#008000" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M385.2139,45.0952 L388.1357,45.0952 L389.6133,50.5322 L391.0825,45.0952 L394.021,45.0952 L394.021,57.4883 L391.9126,57.4883 L391.9126,47.5605 L390.6011,52.981 L388.6504,52.981 L387.3223,47.5605 L387.3223,57.4883 L385.2139,57.4883 Z "/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="406.5" y="54.4883">Wait_Wrapper</text></a><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="828.9004" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="90.5" y="105.7988"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="95.5" y="788.7676"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="95.5" y="863.0781"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="178.4199"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="221.7305"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="308.3516"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="394.9727"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="284.5" y="481.5938"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="265.041"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="438.2832"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="583.5254"/><rect fill="#FFFFFF" filter="url(#f8vx703iypvze)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="436.5" y="670.1465"/><polygon fill="#A80036" points="78.5,101.7988,88.5,105.7988,78.5,109.7988,82.5,105.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="84.5" y1="105.7988" y2="105.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="10" y="101.0566">readBit()</text><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="513.5" x="3" y="134.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="134.4541" y2="134.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="137.4541" y2="137.4541"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="157" x="181.25" y="123.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="187.25" y="140.3672">InitializePulse output</text><polygon fill="#A80036" points="272.5,174.4199,282.5,178.4199,272.5,182.4199,276.5,178.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="278.5" y1="178.4199" y2="178.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="107.5" y="173.6777">SetPin2TxMode()</text><polygon fill="#A80036" points="111.5,188.4199,101.5,192.4199,111.5,196.4199,107.5,192.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="288.5" y1="192.4199" y2="192.4199"/><polygon fill="#A80036" points="272.5,217.7305,282.5,221.7305,272.5,225.7305,276.5,221.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="278.5" y1="221.7305" y2="221.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="107.5" y="216.9883">AssertPin()</text><polygon fill="#A80036" points="111.5,231.7305,101.5,235.7305,111.5,239.7305,107.5,235.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="288.5" y1="235.7305" y2="235.7305"/><polygon fill="#A80036" points="424.5,261.041,434.5,265.041,424.5,269.041,428.5,265.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="430.5" y1="265.041" y2="265.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="107.5" y="260.2988">Wait_us(T_INT)</text><polygon fill="#A80036" points="111.5,275.041,101.5,279.041,111.5,283.041,107.5,279.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="440.5" y1="279.041" y2="279.041"/><polygon fill="#A80036" points="272.5,304.3516,282.5,308.3516,272.5,312.3516,276.5,308.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="278.5" y1="308.3516" y2="308.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="107.5" y="303.6094">NegatePin()</text><polygon fill="#A80036" points="111.5,318.3516,101.5,322.3516,111.5,326.3516,107.5,322.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="288.5" y1="322.3516" y2="322.3516"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="513.5" x="3" y="351.0068"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="351.0068" y2="351.0068"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="354.0068" y2="354.0068"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="102" x="208.75" y="340.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="214.75" y="356.9199">ReadPinState</text><polygon fill="#A80036" points="272.5,390.9727,282.5,394.9727,272.5,398.9727,276.5,394.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="278.5" y1="394.9727" y2="394.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="107.5" y="390.2305">SetPin2RxMode()</text><polygon fill="#A80036" points="111.5,404.9727,101.5,408.9727,111.5,412.9727,107.5,408.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="288.5" y1="408.9727" y2="408.9727"/><polygon fill="#A80036" points="424.5,434.2832,434.5,438.2832,424.5,442.2832,428.5,438.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="430.5" y1="438.2832" y2="438.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="107.5" y="433.541">Wait_us(T_RC)</text><polygon fill="#A80036" points="111.5,448.2832,101.5,452.2832,111.5,456.2832,107.5,452.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="440.5" y1="452.2832" y2="452.2832"/><polygon fill="#A80036" points="272.5,477.5938,282.5,481.5938,272.5,485.5938,276.5,481.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="278.5" y1="481.5938" y2="481.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="107.5" y="476.8516">GetPinState()</text><polygon fill="#A80036" points="111.5,506.9043,101.5,510.9043,111.5,514.9043,107.5,510.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="288.5" y1="510.9043" y2="510.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="117.5" y="506.1621">current state = Pin status</text><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="513.5" x="3" y="539.5596"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="539.5596" y2="539.5596"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="542.5596" y2="542.5596"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="132" x="193.75" y="528.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="199.75" y="545.4727">Wiat for Time slot</text><polygon fill="#A80036" points="424.5,579.5254,434.5,583.5254,424.5,587.5254,428.5,583.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="430.5" y1="583.5254" y2="583.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="107.5" y="578.7832">Wait_us(T_SLOT - T_INT - T_RC)</text><polygon fill="#A80036" points="111.5,593.5254,101.5,597.5254,111.5,601.5254,107.5,597.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="440.5" y1="597.5254" y2="597.5254"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="513.5" x="3" y="626.1807"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="626.1807" y2="626.1807"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="629.1807" y2="629.1807"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="76" x="221.75" y="615.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="227.75" y="632.0938">Recovery</text><polygon fill="#A80036" points="424.5,666.1465,434.5,670.1465,424.5,674.1465,428.5,670.1465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="430.5" y1="670.1465" y2="670.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="107.5" y="665.4043">Wait_us(T_REC)</text><polygon fill="#A80036" points="111.5,680.1465,101.5,684.1465,111.5,688.1465,107.5,684.1465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="105.5" x2="440.5" y1="684.1465" y2="684.1465"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="513.5" x="3" y="712.8018"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="712.8018" y2="712.8018"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="516.5" y1="715.8018" y2="715.8018"/><rect fill="#EEEEEE" filter="url(#f8vx703iypvze)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="109" x="205.25" y="702.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="211.25" y="718.7148">Evaluate State</text><path d="M13,742.457 L80,742.457 L80,749.457 L70,759.457 L13,759.457 L13,742.457 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="163.9316" style="stroke: #000000; stroke-width: 2.0;" width="262" x="13" y="742.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="28" y="756.0254">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175" x="95" y="755.0918">[currentState[GPIO_ASSERTED]]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="105.5" x2="147.5" y1="781.0781" y2="781.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147.5" x2="147.5" y1="781.0781" y2="794.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106.5" x2="147.5" y1="794.0781" y2="794.0781"/><polygon fill="#A80036" points="116.5,790.0781,106.5,794.0781,116.5,798.0781,112.5,794.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="112.5" y="776.3359">result = 0</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="275" y1="833.0781" y2="833.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="105.5" x2="147.5" y1="855.3887" y2="855.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="147.5" x2="147.5" y1="855.3887" y2="868.3887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106.5" x2="147.5" y1="868.3887" y2="868.3887"/><polygon fill="#A80036" points="116.5,864.3887,106.5,868.3887,116.5,872.3887,112.5,868.3887" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="112.5" y="850.6465">result = 1</text><polygon fill="#A80036" points="14,930.6992,4,934.6992,14,938.6992,10,934.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="94.5" y1="934.6992" y2="934.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="20" y="929.957">result</text><!--
@startuml

hide footbox

title readBit sequence

participant "OneWireDriver" as ModuleOneWireDriver<<M,Green>>[[../Class/OneWireDriver.svg]]
participant "GPIO_Wrapper" as ModuleGPIO_Wrapper<<M,Green>>[[../Class/OneWireDriver.svg]]
participant "Wait_Wrapper" as ModuleWait_Wrapper<<M,Green>>[[../Class/OneWireDriver.svg]]


-> ModuleOneWireDriver : readBit()
  activate ModuleOneWireDriver

==InitializePulse output==
ModuleOneWireDriver -> ModuleGPIO_Wrapper : SetPin2TxMode()
  activate ModuleGPIO_Wrapper
ModuleOneWireDriver <- - ModuleGPIO_Wrapper
  deactivate ModuleGPIO_Wrapper

ModuleOneWireDriver -> ModuleGPIO_Wrapper : AssertPin()
  activate ModuleGPIO_Wrapper
ModuleOneWireDriver <- - ModuleGPIO_Wrapper
  deactivate ModuleGPIO_Wrapper

ModuleOneWireDriver -> ModuleWait_Wrapper : Wait_us(T_INT)
  activate ModuleWait_Wrapper
ModuleOneWireDriver <- - ModuleWait_Wrapper
  deactivate ModuleWait_Wrapper

ModuleOneWireDriver -> ModuleGPIO_Wrapper : NegatePin()
  activate ModuleGPIO_Wrapper
ModuleOneWireDriver <- - ModuleGPIO_Wrapper
  deactivate ModuleGPIO_Wrapper

==ReadPinState==
ModuleOneWireDriver -> ModuleGPIO_Wrapper : SetPin2RxMode()
  activate ModuleGPIO_Wrapper
ModuleOneWireDriver <- - ModuleGPIO_Wrapper
  deactivate ModuleGPIO_Wrapper

ModuleOneWireDriver -> ModuleWait_Wrapper : Wait_us(T_RC)
  activate ModuleWait_Wrapper
ModuleOneWireDriver <- - ModuleWait_Wrapper
  deactivate ModuleWait_Wrapper

ModuleOneWireDriver -> ModuleGPIO_Wrapper : GetPinState()
  activate ModuleGPIO_Wrapper
ModuleOneWireDriver <- - ModuleGPIO_Wrapper : current state = Pin status
  deactivate ModuleGPIO_Wrapper

==Wiat for Time slot==
ModuleOneWireDriver -> ModuleWait_Wrapper : Wait_us(T_SLOT - T_INT - T_RC)
  activate ModuleWait_Wrapper
ModuleOneWireDriver <- - ModuleWait_Wrapper
  deactivate ModuleWait_Wrapper

==Recovery==
ModuleOneWireDriver -> ModuleWait_Wrapper : Wait_us(T_REC)
  activate ModuleWait_Wrapper
ModuleOneWireDriver <- - ModuleWait_Wrapper
  deactivate ModuleWait_Wrapper

==Evaluate State==
opt currentState[GPIO_ASSERTED]
  ModuleOneWireDriver -> ModuleOneWireDriver : result = 0
    activate ModuleOneWireDriver
    deactivate ModuleOneWireDriver
else
  ModuleOneWireDriver -> ModuleOneWireDriver : result = 1
    activate ModuleOneWireDriver
    deactivate ModuleOneWireDriver
end

<- - ModuleOneWireDriver : result
  deactivate ModuleOneWireDriver

@enduml

PlantUML version 1.2018.09(Sat Jul 28 01:58:18 JST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.1+11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>